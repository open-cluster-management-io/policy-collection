apiVersion: v1
kind: Namespace
metadata:
  name: '{{hub fromConfigMap "" "hdr-app-configmap" "backupNS" hub}}'
---
apiVersion: operators.coreos.com/v1
kind: OperatorGroup
metadata:
  name: redhat-oadp-operator-group
  namespace: '{{hub fromConfigMap "" "hdr-app-configmap" "backupNS" hub}}'
spec:
  targetNamespaces:
    - '{{hub fromConfigMap "" "hdr-app-configmap" "backupNS" hub}}'
---
apiVersion: operators.coreos.com/v1alpha1
kind: Subscription
metadata:
  name: redhat-oadp-operator-subscription
  namespace: '{{hub fromConfigMap "" "hdr-app-configmap" "backupNS" hub}}'
spec:
  name: '{{hub fromConfigMap "" "hdr-app-configmap" "subscriptionName" hub}}'
  channel: '{{hub fromConfigMap "" "hdr-app-configmap" "channel" hub}}'
  installPlanApproval: Automatic
  source: redhat-operators
  sourceNamespace: openshift-marketplace
---
apiVersion: v1
data:
  cloud: '{{hub fromConfigMap "" "hdr-app-configmap" "dpa.aws.backup.cloud.credentials" hub}}'
kind: Secret
metadata:
  name: '{{hub fromConfigMap "" "hdr-app-configmap" "dpa.backup.cloud.credentials.name" hub}}'
  namespace: '{{hub fromConfigMap "" "hdr-app-configmap" "backupNS" hub}}'
type: Opaque
---
apiVersion: oadp.openshift.io/v1alpha1
kind: DataProtectionApplication
metadata:
  name: '{{hub fromConfigMap "" "hdr-app-configmap" "dpaName" hub}}'
  namespace: '{{hub fromConfigMap "" "hdr-app-configmap" "backupNS" hub}}'
spec: '{{hub fromConfigMap "" "hdr-app-configmap" "dpa.spec" | toLiteral hub}}'
