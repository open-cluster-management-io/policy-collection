apiVersion: policy.open-cluster-management.io/v1
kind: Policy
metadata:
  name: policy-podsecuritypolicy
  annotations:
    policy.open-cluster-management.io/standards: NIST SP 800-53
    policy.open-cluster-management.io/categories: SI System and Information Integrity
    policy.open-cluster-management.io/controls: SI-3 Malicious Code Protection
    integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktcG9kc2VjdXJpdHlwb2xpY3kKICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogU0kgU3lzdGVtIGFuZCBJbmZvcm1hdGlvbiBJbnRlZ3JpdHkKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9jb250cm9sczogU0ktMyBNYWxpY2lvdXMgQ29kZSBQcm90ZWN0aW9uCnNwZWM6CiAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybQogIGRpc2FibGVkOiBmYWxzZQogIHBvbGljeS10ZW1wbGF0ZXM6CiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5LWV4YW1wbGUKICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHRoZSBwb2xpY3ktdGVtcGxhdGUgc3BlYy5yZW1lZGlhdGlvbkFjdGlvbiBpcyBvdmVycmlkZGVuIGJ5IHRoZSBwcmVjZWRpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uLgogICAgICAgICAgc2V2ZXJpdHk6IGhpZ2gKICAgICAgICAgIG5hbWVzcGFjZVNlbGVjdG9yOgogICAgICAgICAgICBleGNsdWRlOiBbImt1YmUtKiJdCiAgICAgICAgICAgIGluY2x1ZGU6IFsiZGVmYXVsdCJdCiAgICAgICAgICBvYmplY3QtdGVtcGxhdGVzOgogICAgICAgICAgICAtIGNvbXBsaWFuY2VUeXBlOiBtdXN0aGF2ZQogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBwb2xpY3kvdjFiZXRhMQogICAgICAgICAgICAgICAga2luZDogUG9kU2VjdXJpdHlQb2xpY3kgIyBubyBwcml2aWxlZ2VkIHBvZHMKICAgICAgICAgICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgICAgICAgICBuYW1lOiBzYW1wbGUtcmVzdHJpY3RlZC1wc3AKICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbnM6CiAgICAgICAgICAgICAgICAgICAgc2VjY29tcC5zZWN1cml0eS5hbHBoYS5rdWJlcm5ldGVzLmlvL2FsbG93ZWRQcm9maWxlTmFtZXM6ICcqJwogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgcHJpdmlsZWdlZDogZmFsc2UgIyBubyBwcml2aWxpZWRnZWQgcG9kcwogICAgICAgICAgICAgICAgICBhbGxvd1ByaXZpbGVnZUVzY2FsYXRpb246IGZhbHNlCiAgICAgICAgICAgICAgICAgIGFsbG93ZWRDYXBhYmlsaXRpZXM6CiAgICAgICAgICAgICAgICAgICAgLSAnKicKICAgICAgICAgICAgICAgICAgdm9sdW1lczoKICAgICAgICAgICAgICAgICAgICAtICcqJwogICAgICAgICAgICAgICAgICBob3N0TmV0d29yazogdHJ1ZQogICAgICAgICAgICAgICAgICBob3N0UG9ydHM6CiAgICAgICAgICAgICAgICAgICAgLSBtaW46IDEwMDAgIyBwb3J0cyA8IDEwMDAgYXJlIHJlc2VydmVkCiAgICAgICAgICAgICAgICAgICAgICBtYXg6IDY1NTM1CiAgICAgICAgICAgICAgICAgIGhvc3RJUEM6IGZhbHNlCiAgICAgICAgICAgICAgICAgIGhvc3RQSUQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgIHJ1bkFzVXNlcjoKICAgICAgICAgICAgICAgICAgICBydWxlOiAnUnVuQXNBbnknCiAgICAgICAgICAgICAgICAgIHNlTGludXg6CiAgICAgICAgICAgICAgICAgICAgcnVsZTogJ1J1bkFzQW55JwogICAgICAgICAgICAgICAgICBzdXBwbGVtZW50YWxHcm91cHM6CiAgICAgICAgICAgICAgICAgICAgcnVsZTogJ1J1bkFzQW55JwogICAgICAgICAgICAgICAgICBmc0dyb3VwOgogICAgICAgICAgICAgICAgICAgIHJ1bGU6ICdSdW5Bc0FueScKLS0tCmFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQbGFjZW1lbnRCaW5kaW5nCm1ldGFkYXRhOgogIG5hbWU6IGJpbmRpbmctcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgYW5ub3RhdGlvbnM6IHt9CnBsYWNlbWVudFJlZjoKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAga2luZDogUGxhY2VtZW50UnVsZQogIGFwaUdyb3VwOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCnN1YmplY3RzOgogIC0gbmFtZTogcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgICBraW5kOiBQb2xpY3kKICAgIGFwaUdyb3VwOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8KLS0tCmFwaVZlcnNpb246IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50UnVsZQptZXRhZGF0YToKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgYW5ub3RhdGlvbnM6IHt9CnNwZWM6CiAgY2x1c3RlckNvbmRpdGlvbnM6CiAgICAtIHN0YXR1czogIlRydWUiCiAgICAgIHR5cGU6IE1hbmFnZWRDbHVzdGVyQ29uZGl0aW9uQXZhaWxhYmxlCiAgY2x1c3RlclNlbGVjdG9yOgogICAgbWF0Y2hFeHByZXNzaW9uczoKICAgICAgLSB7a2V5OiBlbnZpcm9ubWVudCwgb3BlcmF0b3I6IEluLCB2YWx1ZXM6IFsiZGV2Il19Cg==
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHNFNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaVNyMEwvMXhPQmI3T091SElwMmZSMmoyOWdQM1kxLy9ValNIcgpmYXRTNVlSanAxWXhjSzhlSy9aYTJ1QklFT2RYQ2NLZHFYcHZ6RXlzTW9nMHVQVlZDV1JvT2F6UkswYWM5QVR2CjRXUEIvZ2tOcDNxcEZGdVZFMHd3RGdFNGRuVHBKNVUwMzBRVC9PaCsxdVVhMm1uQmk3ZG5adGR2Vk9yb0tydEoKOUEvMC9Od2kwV1pYZ1RpOXJTUG1SMjFpbkxJQnMwbU5HeU5JUnZmaXhSUnJYRGhidUZ6R0xmbTVFcUVlSnl5TQpKWnlaUzgyaCtRRHpkaCtQemp1d0JIWldFTHhWcTIxbFpJWEtNNkF2NkQ3WTZXY3lLQmlaUW5RbVRTdlR4VE81CnZDSjhyQitXakVEN0xqWGpjT3NvN3VVRTU3U2hITVgwUGJhVkZFbktBc21mZSszYkR6KzU0OC9iTUE3QlE3MysKNlR5dFpxVk5QYTlvaDl4WW9HNE42MDFQU21rSWF6dFk3MFpJaEZBNm4zUnkva1RNOFhMb2xPMDJiZ0ZXQkU3TApmSk1YNFdtUENUUzVrSDlaVkliY2srV0hoekp5bWkveTAxMDVhMjRQL0h2UExpcGh2K3N0Yk1ORzVrMmhMVjA5CnVUNWVxbmx0ZzQ1ZCtBeEIyam9Ca3BROWF3aG0yUU1qcFE9PQo9SGRRZAotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K
spec:
  remediationAction: inform
  disabled: false
  policy-templates:
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-podsecuritypolicy-example
        spec:
          remediationAction: inform # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          namespaceSelector:
            exclude: ["kube-*"]
            include: ["default"]
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: policy/v1beta1
                kind: PodSecurityPolicy # no privileged pods
                metadata:
                  name: sample-restricted-psp
                  annotations:
                    seccomp.security.alpha.kubernetes.io/allowedProfileNames: '*'
                spec:
                  privileged: false # no priviliedged pods
                  allowPrivilegeEscalation: false
                  allowedCapabilities:
                    - '*'
                  volumes:
                    - '*'
                  hostNetwork: true
                  hostPorts:
                    - min: 1000 # ports < 1000 are reserved
                      max: 65535
                  hostIPC: false
                  hostPID: false
                  runAsUser:
                    rule: 'RunAsAny'
                  seLinux:
                    rule: 'RunAsAny'
                  supplementalGroups:
                    rule: 'RunAsAny'
                  fsGroup:
                    rule: 'RunAsAny'
---
apiVersion: policy.open-cluster-management.io/v1
kind: PlacementBinding
metadata:
  name: binding-policy-podsecuritypolicy
  annotations: {integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktcG9kc2VjdXJpdHlwb2xpY3kKICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogU0kgU3lzdGVtIGFuZCBJbmZvcm1hdGlvbiBJbnRlZ3JpdHkKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9jb250cm9sczogU0ktMyBNYWxpY2lvdXMgQ29kZSBQcm90ZWN0aW9uCnNwZWM6CiAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybQogIGRpc2FibGVkOiBmYWxzZQogIHBvbGljeS10ZW1wbGF0ZXM6CiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5LWV4YW1wbGUKICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHRoZSBwb2xpY3ktdGVtcGxhdGUgc3BlYy5yZW1lZGlhdGlvbkFjdGlvbiBpcyBvdmVycmlkZGVuIGJ5IHRoZSBwcmVjZWRpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uLgogICAgICAgICAgc2V2ZXJpdHk6IGhpZ2gKICAgICAgICAgIG5hbWVzcGFjZVNlbGVjdG9yOgogICAgICAgICAgICBleGNsdWRlOiBbImt1YmUtKiJdCiAgICAgICAgICAgIGluY2x1ZGU6IFsiZGVmYXVsdCJdCiAgICAgICAgICBvYmplY3QtdGVtcGxhdGVzOgogICAgICAgICAgICAtIGNvbXBsaWFuY2VUeXBlOiBtdXN0aGF2ZQogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBwb2xpY3kvdjFiZXRhMQogICAgICAgICAgICAgICAga2luZDogUG9kU2VjdXJpdHlQb2xpY3kgIyBubyBwcml2aWxlZ2VkIHBvZHMKICAgICAgICAgICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgICAgICAgICBuYW1lOiBzYW1wbGUtcmVzdHJpY3RlZC1wc3AKICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbnM6CiAgICAgICAgICAgICAgICAgICAgc2VjY29tcC5zZWN1cml0eS5hbHBoYS5rdWJlcm5ldGVzLmlvL2FsbG93ZWRQcm9maWxlTmFtZXM6ICcqJwogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgcHJpdmlsZWdlZDogZmFsc2UgIyBubyBwcml2aWxpZWRnZWQgcG9kcwogICAgICAgICAgICAgICAgICBhbGxvd1ByaXZpbGVnZUVzY2FsYXRpb246IGZhbHNlCiAgICAgICAgICAgICAgICAgIGFsbG93ZWRDYXBhYmlsaXRpZXM6CiAgICAgICAgICAgICAgICAgICAgLSAnKicKICAgICAgICAgICAgICAgICAgdm9sdW1lczoKICAgICAgICAgICAgICAgICAgICAtICcqJwogICAgICAgICAgICAgICAgICBob3N0TmV0d29yazogdHJ1ZQogICAgICAgICAgICAgICAgICBob3N0UG9ydHM6CiAgICAgICAgICAgICAgICAgICAgLSBtaW46IDEwMDAgIyBwb3J0cyA8IDEwMDAgYXJlIHJlc2VydmVkCiAgICAgICAgICAgICAgICAgICAgICBtYXg6IDY1NTM1CiAgICAgICAgICAgICAgICAgIGhvc3RJUEM6IGZhbHNlCiAgICAgICAgICAgICAgICAgIGhvc3RQSUQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgIHJ1bkFzVXNlcjoKICAgICAgICAgICAgICAgICAgICBydWxlOiAnUnVuQXNBbnknCiAgICAgICAgICAgICAgICAgIHNlTGludXg6CiAgICAgICAgICAgICAgICAgICAgcnVsZTogJ1J1bkFzQW55JwogICAgICAgICAgICAgICAgICBzdXBwbGVtZW50YWxHcm91cHM6CiAgICAgICAgICAgICAgICAgICAgcnVsZTogJ1J1bkFzQW55JwogICAgICAgICAgICAgICAgICBmc0dyb3VwOgogICAgICAgICAgICAgICAgICAgIHJ1bGU6ICdSdW5Bc0FueScKLS0tCmFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQbGFjZW1lbnRCaW5kaW5nCm1ldGFkYXRhOgogIG5hbWU6IGJpbmRpbmctcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgYW5ub3RhdGlvbnM6IHt9CnBsYWNlbWVudFJlZjoKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAga2luZDogUGxhY2VtZW50UnVsZQogIGFwaUdyb3VwOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCnN1YmplY3RzOgogIC0gbmFtZTogcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgICBraW5kOiBQb2xpY3kKICAgIGFwaUdyb3VwOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8KLS0tCmFwaVZlcnNpb246IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50UnVsZQptZXRhZGF0YToKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgYW5ub3RhdGlvbnM6IHt9CnNwZWM6CiAgY2x1c3RlckNvbmRpdGlvbnM6CiAgICAtIHN0YXR1czogIlRydWUiCiAgICAgIHR5cGU6IE1hbmFnZWRDbHVzdGVyQ29uZGl0aW9uQXZhaWxhYmxlCiAgY2x1c3RlclNlbGVjdG9yOgogICAgbWF0Y2hFeHByZXNzaW9uczoKICAgICAgLSB7a2V5OiBlbnZpcm9ubWVudCwgb3BlcmF0b3I6IEluLCB2YWx1ZXM6IFsiZGV2Il19Cg==, integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHNFNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaVNyMEwvMXhPQmI3T091SElwMmZSMmoyOWdQM1kxLy9ValNIcgpmYXRTNVlSanAxWXhjSzhlSy9aYTJ1QklFT2RYQ2NLZHFYcHZ6RXlzTW9nMHVQVlZDV1JvT2F6UkswYWM5QVR2CjRXUEIvZ2tOcDNxcEZGdVZFMHd3RGdFNGRuVHBKNVUwMzBRVC9PaCsxdVVhMm1uQmk3ZG5adGR2Vk9yb0tydEoKOUEvMC9Od2kwV1pYZ1RpOXJTUG1SMjFpbkxJQnMwbU5HeU5JUnZmaXhSUnJYRGhidUZ6R0xmbTVFcUVlSnl5TQpKWnlaUzgyaCtRRHpkaCtQemp1d0JIWldFTHhWcTIxbFpJWEtNNkF2NkQ3WTZXY3lLQmlaUW5RbVRTdlR4VE81CnZDSjhyQitXakVEN0xqWGpjT3NvN3VVRTU3U2hITVgwUGJhVkZFbktBc21mZSszYkR6KzU0OC9iTUE3QlE3MysKNlR5dFpxVk5QYTlvaDl4WW9HNE42MDFQU21rSWF6dFk3MFpJaEZBNm4zUnkva1RNOFhMb2xPMDJiZ0ZXQkU3TApmSk1YNFdtUENUUzVrSDlaVkliY2srV0hoekp5bWkveTAxMDVhMjRQL0h2UExpcGh2K3N0Yk1ORzVrMmhMVjA5CnVUNWVxbmx0ZzQ1ZCtBeEIyam9Ca3BROWF3aG0yUU1qcFE9PQo9SGRRZAotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K}
placementRef:
  name: placement-policy-podsecuritypolicy
  kind: PlacementRule
  apiGroup: apps.open-cluster-management.io
subjects:
  - name: policy-podsecuritypolicy
    kind: Policy
    apiGroup: policy.open-cluster-management.io
---
apiVersion: apps.open-cluster-management.io/v1
kind: PlacementRule
metadata:
  name: placement-policy-podsecuritypolicy
  annotations: {integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktcG9kc2VjdXJpdHlwb2xpY3kKICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogU0kgU3lzdGVtIGFuZCBJbmZvcm1hdGlvbiBJbnRlZ3JpdHkKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9jb250cm9sczogU0ktMyBNYWxpY2lvdXMgQ29kZSBQcm90ZWN0aW9uCnNwZWM6CiAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybQogIGRpc2FibGVkOiBmYWxzZQogIHBvbGljeS10ZW1wbGF0ZXM6CiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5LWV4YW1wbGUKICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHRoZSBwb2xpY3ktdGVtcGxhdGUgc3BlYy5yZW1lZGlhdGlvbkFjdGlvbiBpcyBvdmVycmlkZGVuIGJ5IHRoZSBwcmVjZWRpbmcgcGFyYW1ldGVyIHZhbHVlIGZvciBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uLgogICAgICAgICAgc2V2ZXJpdHk6IGhpZ2gKICAgICAgICAgIG5hbWVzcGFjZVNlbGVjdG9yOgogICAgICAgICAgICBleGNsdWRlOiBbImt1YmUtKiJdCiAgICAgICAgICAgIGluY2x1ZGU6IFsiZGVmYXVsdCJdCiAgICAgICAgICBvYmplY3QtdGVtcGxhdGVzOgogICAgICAgICAgICAtIGNvbXBsaWFuY2VUeXBlOiBtdXN0aGF2ZQogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBwb2xpY3kvdjFiZXRhMQogICAgICAgICAgICAgICAga2luZDogUG9kU2VjdXJpdHlQb2xpY3kgIyBubyBwcml2aWxlZ2VkIHBvZHMKICAgICAgICAgICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgICAgICAgICBuYW1lOiBzYW1wbGUtcmVzdHJpY3RlZC1wc3AKICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbnM6CiAgICAgICAgICAgICAgICAgICAgc2VjY29tcC5zZWN1cml0eS5hbHBoYS5rdWJlcm5ldGVzLmlvL2FsbG93ZWRQcm9maWxlTmFtZXM6ICcqJwogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgcHJpdmlsZWdlZDogZmFsc2UgIyBubyBwcml2aWxpZWRnZWQgcG9kcwogICAgICAgICAgICAgICAgICBhbGxvd1ByaXZpbGVnZUVzY2FsYXRpb246IGZhbHNlCiAgICAgICAgICAgICAgICAgIGFsbG93ZWRDYXBhYmlsaXRpZXM6CiAgICAgICAgICAgICAgICAgICAgLSAnKicKICAgICAgICAgICAgICAgICAgdm9sdW1lczoKICAgICAgICAgICAgICAgICAgICAtICcqJwogICAgICAgICAgICAgICAgICBob3N0TmV0d29yazogdHJ1ZQogICAgICAgICAgICAgICAgICBob3N0UG9ydHM6CiAgICAgICAgICAgICAgICAgICAgLSBtaW46IDEwMDAgIyBwb3J0cyA8IDEwMDAgYXJlIHJlc2VydmVkCiAgICAgICAgICAgICAgICAgICAgICBtYXg6IDY1NTM1CiAgICAgICAgICAgICAgICAgIGhvc3RJUEM6IGZhbHNlCiAgICAgICAgICAgICAgICAgIGhvc3RQSUQ6IGZhbHNlCiAgICAgICAgICAgICAgICAgIHJ1bkFzVXNlcjoKICAgICAgICAgICAgICAgICAgICBydWxlOiAnUnVuQXNBbnknCiAgICAgICAgICAgICAgICAgIHNlTGludXg6CiAgICAgICAgICAgICAgICAgICAgcnVsZTogJ1J1bkFzQW55JwogICAgICAgICAgICAgICAgICBzdXBwbGVtZW50YWxHcm91cHM6CiAgICAgICAgICAgICAgICAgICAgcnVsZTogJ1J1bkFzQW55JwogICAgICAgICAgICAgICAgICBmc0dyb3VwOgogICAgICAgICAgICAgICAgICAgIHJ1bGU6ICdSdW5Bc0FueScKLS0tCmFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQbGFjZW1lbnRCaW5kaW5nCm1ldGFkYXRhOgogIG5hbWU6IGJpbmRpbmctcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgYW5ub3RhdGlvbnM6IHt9CnBsYWNlbWVudFJlZjoKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAga2luZDogUGxhY2VtZW50UnVsZQogIGFwaUdyb3VwOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCnN1YmplY3RzOgogIC0gbmFtZTogcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgICBraW5kOiBQb2xpY3kKICAgIGFwaUdyb3VwOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8KLS0tCmFwaVZlcnNpb246IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50UnVsZQptZXRhZGF0YToKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LXBvZHNlY3VyaXR5cG9saWN5CiAgYW5ub3RhdGlvbnM6IHt9CnNwZWM6CiAgY2x1c3RlckNvbmRpdGlvbnM6CiAgICAtIHN0YXR1czogIlRydWUiCiAgICAgIHR5cGU6IE1hbmFnZWRDbHVzdGVyQ29uZGl0aW9uQXZhaWxhYmxlCiAgY2x1c3RlclNlbGVjdG9yOgogICAgbWF0Y2hFeHByZXNzaW9uczoKICAgICAgLSB7a2V5OiBlbnZpcm9ubWVudCwgb3BlcmF0b3I6IEluLCB2YWx1ZXM6IFsiZGV2Il19Cg==, integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHNFNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaVNyMEwvMXhPQmI3T091SElwMmZSMmoyOWdQM1kxLy9ValNIcgpmYXRTNVlSanAxWXhjSzhlSy9aYTJ1QklFT2RYQ2NLZHFYcHZ6RXlzTW9nMHVQVlZDV1JvT2F6UkswYWM5QVR2CjRXUEIvZ2tOcDNxcEZGdVZFMHd3RGdFNGRuVHBKNVUwMzBRVC9PaCsxdVVhMm1uQmk3ZG5adGR2Vk9yb0tydEoKOUEvMC9Od2kwV1pYZ1RpOXJTUG1SMjFpbkxJQnMwbU5HeU5JUnZmaXhSUnJYRGhidUZ6R0xmbTVFcUVlSnl5TQpKWnlaUzgyaCtRRHpkaCtQemp1d0JIWldFTHhWcTIxbFpJWEtNNkF2NkQ3WTZXY3lLQmlaUW5RbVRTdlR4VE81CnZDSjhyQitXakVEN0xqWGpjT3NvN3VVRTU3U2hITVgwUGJhVkZFbktBc21mZSszYkR6KzU0OC9iTUE3QlE3MysKNlR5dFpxVk5QYTlvaDl4WW9HNE42MDFQU21rSWF6dFk3MFpJaEZBNm4zUnkva1RNOFhMb2xPMDJiZ0ZXQkU3TApmSk1YNFdtUENUUzVrSDlaVkliY2srV0hoekp5bWkveTAxMDVhMjRQL0h2UExpcGh2K3N0Yk1ORzVrMmhMVjA5CnVUNWVxbmx0ZzQ1ZCtBeEIyam9Ca3BROWF3aG0yUU1qcFE9PQo9SGRRZAotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K}
spec:
  clusterConditions:
    - status: "True"
      type: ManagedClusterConditionAvailable
  clusterSelector:
    matchExpressions:
      - {key: environment, operator: In, values: ["dev"]}
