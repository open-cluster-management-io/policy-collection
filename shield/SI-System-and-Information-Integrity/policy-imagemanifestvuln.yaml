apiVersion: policy.open-cluster-management.io/v1
kind: Policy
metadata:
  name: policy-imagemanifestvuln
  annotations:
    policy.open-cluster-management.io/standards: NIST SP 800-53
    policy.open-cluster-management.io/categories: SI System and Information Integrity
    policy.open-cluster-management.io/controls: SI-4 Information System Monitoring
    integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktaW1hZ2VtYW5pZmVzdHZ1bG4KICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogU0kgU3lzdGVtIGFuZCBJbmZvcm1hdGlvbiBJbnRlZ3JpdHkKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9jb250cm9sczogU0ktNCBJbmZvcm1hdGlvbiBTeXN0ZW0gTW9uaXRvcmluZwpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbi1leGFtcGxlLXN1YgogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgdGhlIHBvbGljeS10ZW1wbGF0ZSBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uIGlzIG92ZXJyaWRkZW4gYnkgdGhlIHByZWNlZGluZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIHNwZWMucmVtZWRpYXRpb25BY3Rpb24uCiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogb3BlcmF0b3JzLmNvcmVvcy5jb20vdjFhbHBoYTEKICAgICAgICAgICAgICAgIGtpbmQ6IFN1YnNjcmlwdGlvbgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnRhaW5lci1zZWN1cml0eS1vcGVyYXRvcgogICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IG9wZW5zaGlmdC1vcGVyYXRvcnMKICAgICAgICAgICAgICAgIHNwZWM6CiAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IHF1YXktdjMuMwogICAgICAgICAgICAgICAgICBpbnN0YWxsUGxhbkFwcHJvdmFsOiBBdXRvbWF0aWMKICAgICAgICAgICAgICAgICAgbmFtZTogY29udGFpbmVyLXNlY3VyaXR5LW9wZXJhdG9yCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogcmVkaGF0LW9wZXJhdG9ycwogICAgICAgICAgICAgICAgICBzb3VyY2VOYW1lc3BhY2U6IG9wZW5zaGlmdC1tYXJrZXRwbGFjZQogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbi1leGFtcGxlLWltdgogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgdGhlIHBvbGljeS10ZW1wbGF0ZSBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uIGlzIG92ZXJyaWRkZW4gYnkgdGhlIHByZWNlZGluZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIHNwZWMucmVtZWRpYXRpb25BY3Rpb24uCiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgbmFtZXNwYWNlU2VsZWN0b3I6CiAgICAgICAgICAgIGV4Y2x1ZGU6IFsia3ViZS0qIl0KICAgICAgICAgICAgaW5jbHVkZTogWyIqIl0KICAgICAgICAgIG9iamVjdC10ZW1wbGF0ZXM6CiAgICAgICAgICAgIC0gY29tcGxpYW5jZVR5cGU6IG11c3Rub3RoYXZlICMgbXVzdG5vdGhhdmUgYW55IEltYWdlTWFuaWZlc3RWdWxuIG9iamVjdAogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBzZWNzY2FuLnF1YXkucmVkaGF0LmNvbS92MWFscGhhMQogICAgICAgICAgICAgICAga2luZDogSW1hZ2VNYW5pZmVzdFZ1bG4gIyBjaGVja2luZyBmb3IgYSBraW5kCi0tLQphcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50QmluZGluZwptZXRhZGF0YToKICBuYW1lOiBiaW5kaW5nLXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGFubm90YXRpb25zOiB7fQpwbGFjZW1lbnRSZWY6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGtpbmQ6IFBsYWNlbWVudFJ1bGUKICBhcGlHcm91cDogYXBwcy5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pbwpzdWJqZWN0czoKICAtIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogICAga2luZDogUG9saWN5CiAgICBhcGlHcm91cDogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCi0tLQphcGlWZXJzaW9uOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudFJ1bGUKbWV0YWRhdGE6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGFubm90YXRpb25zOiB7fQpzcGVjOgogIGNsdXN0ZXJDb25kaXRpb25zOgogICAgLSBzdGF0dXM6ICJUcnVlIgogICAgICB0eXBlOiBNYW5hZ2VkQ2x1c3RlckNvbmRpdGlvbkF2YWlsYWJsZQogIGNsdXN0ZXJTZWxlY3RvcjoKICAgIG1hdGNoRXhwcmVzc2lvbnM6CiAgICAgIC0ge2tleTogZW52aXJvbm1lbnQsIG9wZXJhdG9yOiBJbiwgdmFsdWVzOiBbImRldiJdfQo=
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHMFNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaXhjRUwvMThSbHdkTkdCcWZsZDVHQkpReVAzTng3L09hdk1pNAp0R3FBVG1OcU1XNk0xdUI4Um0zNFZPdXlucVBBVFBXZFFrSUlVNjhLLzRWM3AwTU1aTENLWGpjK0pKZGVwWGZFClJVM2h1aFhzQkUvSG1aSFBjQWNGNXpIOTJNMGhWdzZiSXRQRXI0U1pndlFqRTdRbHhVNHhMLzRCRmZFTEh3WEIKVTRlMkpjVHJIZkx6czhVVnNuaVpGU1ZkdXFGZXZML1duVHdLWEhkUE1QYlh3UXFHR0NzR0xmRlEwTkx1aEdhYwpMYXhjQ0ozZ2RqdVBKRDZDMW94ejl4RmVvVk5TNjZ4S1IwYkhvNUgySUpBdUhaNG1QM1FGWFFXbURXNUZpYng4CjNTK3BtSjhUNmwrcTUyL3Yrcmw3R1JtRjFGcVoxSDJUVTJ4ZE8zSmk0WE90ZzhQS0hmM1RYRXQ3b0trZStuV20KRHZRLzBvc1dMYkJyN2FrR3E5OEsxcWE0b2J1cko1emg0bkJPaUpMYkcvSDdRQllzSkR2UEdlQXFHMjZydDdYNQozZlNSdER0MnZBeVI4OEVWbVd6bnF2N0NjTUNTUElPdGVsU2tlMGxBWGNGRjVTNGVXNkF5UE9HaU9HdkFHclJmCk1XcmRicVdDaXFPZHkvVzR1dFBpT0xtb2llR0NHNFJVeHc9PQo9bnZxOQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K
spec:
  remediationAction: inform
  disabled: false
  policy-templates:
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-imagemanifestvuln-example-sub
        spec:
          remediationAction: inform # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: operators.coreos.com/v1alpha1
                kind: Subscription
                metadata:
                  name: container-security-operator
                  namespace: openshift-operators
                spec:
                  channel: quay-v3.3
                  installPlanApproval: Automatic
                  name: container-security-operator
                  source: redhat-operators
                  sourceNamespace: openshift-marketplace
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: policy-imagemanifestvuln-example-imv
        spec:
          remediationAction: inform # the policy-template spec.remediationAction is overridden by the preceding parameter value for spec.remediationAction.
          severity: high
          namespaceSelector:
            exclude: ["kube-*"]
            include: ["*"]
          object-templates:
            - complianceType: mustnothave # mustnothave any ImageManifestVuln object
              objectDefinition:
                apiVersion: secscan.quay.redhat.com/v1alpha1
                kind: ImageManifestVuln # checking for a kind
---
apiVersion: policy.open-cluster-management.io/v1
kind: PlacementBinding
metadata:
  name: binding-policy-imagemanifestvuln
  annotations: {integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktaW1hZ2VtYW5pZmVzdHZ1bG4KICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogU0kgU3lzdGVtIGFuZCBJbmZvcm1hdGlvbiBJbnRlZ3JpdHkKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9jb250cm9sczogU0ktNCBJbmZvcm1hdGlvbiBTeXN0ZW0gTW9uaXRvcmluZwpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbi1leGFtcGxlLXN1YgogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgdGhlIHBvbGljeS10ZW1wbGF0ZSBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uIGlzIG92ZXJyaWRkZW4gYnkgdGhlIHByZWNlZGluZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIHNwZWMucmVtZWRpYXRpb25BY3Rpb24uCiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogb3BlcmF0b3JzLmNvcmVvcy5jb20vdjFhbHBoYTEKICAgICAgICAgICAgICAgIGtpbmQ6IFN1YnNjcmlwdGlvbgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnRhaW5lci1zZWN1cml0eS1vcGVyYXRvcgogICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IG9wZW5zaGlmdC1vcGVyYXRvcnMKICAgICAgICAgICAgICAgIHNwZWM6CiAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IHF1YXktdjMuMwogICAgICAgICAgICAgICAgICBpbnN0YWxsUGxhbkFwcHJvdmFsOiBBdXRvbWF0aWMKICAgICAgICAgICAgICAgICAgbmFtZTogY29udGFpbmVyLXNlY3VyaXR5LW9wZXJhdG9yCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogcmVkaGF0LW9wZXJhdG9ycwogICAgICAgICAgICAgICAgICBzb3VyY2VOYW1lc3BhY2U6IG9wZW5zaGlmdC1tYXJrZXRwbGFjZQogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbi1leGFtcGxlLWltdgogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgdGhlIHBvbGljeS10ZW1wbGF0ZSBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uIGlzIG92ZXJyaWRkZW4gYnkgdGhlIHByZWNlZGluZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIHNwZWMucmVtZWRpYXRpb25BY3Rpb24uCiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgbmFtZXNwYWNlU2VsZWN0b3I6CiAgICAgICAgICAgIGV4Y2x1ZGU6IFsia3ViZS0qIl0KICAgICAgICAgICAgaW5jbHVkZTogWyIqIl0KICAgICAgICAgIG9iamVjdC10ZW1wbGF0ZXM6CiAgICAgICAgICAgIC0gY29tcGxpYW5jZVR5cGU6IG11c3Rub3RoYXZlICMgbXVzdG5vdGhhdmUgYW55IEltYWdlTWFuaWZlc3RWdWxuIG9iamVjdAogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBzZWNzY2FuLnF1YXkucmVkaGF0LmNvbS92MWFscGhhMQogICAgICAgICAgICAgICAga2luZDogSW1hZ2VNYW5pZmVzdFZ1bG4gIyBjaGVja2luZyBmb3IgYSBraW5kCi0tLQphcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50QmluZGluZwptZXRhZGF0YToKICBuYW1lOiBiaW5kaW5nLXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGFubm90YXRpb25zOiB7fQpwbGFjZW1lbnRSZWY6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGtpbmQ6IFBsYWNlbWVudFJ1bGUKICBhcGlHcm91cDogYXBwcy5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pbwpzdWJqZWN0czoKICAtIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogICAga2luZDogUG9saWN5CiAgICBhcGlHcm91cDogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCi0tLQphcGlWZXJzaW9uOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudFJ1bGUKbWV0YWRhdGE6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGFubm90YXRpb25zOiB7fQpzcGVjOgogIGNsdXN0ZXJDb25kaXRpb25zOgogICAgLSBzdGF0dXM6ICJUcnVlIgogICAgICB0eXBlOiBNYW5hZ2VkQ2x1c3RlckNvbmRpdGlvbkF2YWlsYWJsZQogIGNsdXN0ZXJTZWxlY3RvcjoKICAgIG1hdGNoRXhwcmVzc2lvbnM6CiAgICAgIC0ge2tleTogZW52aXJvbm1lbnQsIG9wZXJhdG9yOiBJbiwgdmFsdWVzOiBbImRldiJdfQo=, integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHMFNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaXhjRUwvMThSbHdkTkdCcWZsZDVHQkpReVAzTng3L09hdk1pNAp0R3FBVG1OcU1XNk0xdUI4Um0zNFZPdXlucVBBVFBXZFFrSUlVNjhLLzRWM3AwTU1aTENLWGpjK0pKZGVwWGZFClJVM2h1aFhzQkUvSG1aSFBjQWNGNXpIOTJNMGhWdzZiSXRQRXI0U1pndlFqRTdRbHhVNHhMLzRCRmZFTEh3WEIKVTRlMkpjVHJIZkx6czhVVnNuaVpGU1ZkdXFGZXZML1duVHdLWEhkUE1QYlh3UXFHR0NzR0xmRlEwTkx1aEdhYwpMYXhjQ0ozZ2RqdVBKRDZDMW94ejl4RmVvVk5TNjZ4S1IwYkhvNUgySUpBdUhaNG1QM1FGWFFXbURXNUZpYng4CjNTK3BtSjhUNmwrcTUyL3Yrcmw3R1JtRjFGcVoxSDJUVTJ4ZE8zSmk0WE90ZzhQS0hmM1RYRXQ3b0trZStuV20KRHZRLzBvc1dMYkJyN2FrR3E5OEsxcWE0b2J1cko1emg0bkJPaUpMYkcvSDdRQllzSkR2UEdlQXFHMjZydDdYNQozZlNSdER0MnZBeVI4OEVWbVd6bnF2N0NjTUNTUElPdGVsU2tlMGxBWGNGRjVTNGVXNkF5UE9HaU9HdkFHclJmCk1XcmRicVdDaXFPZHkvVzR1dFBpT0xtb2llR0NHNFJVeHc9PQo9bnZxOQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K}
placementRef:
  name: placement-policy-imagemanifestvuln
  kind: PlacementRule
  apiGroup: apps.open-cluster-management.io
subjects:
  - name: policy-imagemanifestvuln
    kind: Policy
    apiGroup: policy.open-cluster-management.io
---
apiVersion: apps.open-cluster-management.io/v1
kind: PlacementRule
metadata:
  name: placement-policy-imagemanifestvuln
  annotations: {integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktaW1hZ2VtYW5pZmVzdHZ1bG4KICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogU0kgU3lzdGVtIGFuZCBJbmZvcm1hdGlvbiBJbnRlZ3JpdHkKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9jb250cm9sczogU0ktNCBJbmZvcm1hdGlvbiBTeXN0ZW0gTW9uaXRvcmluZwpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbi1leGFtcGxlLXN1YgogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgdGhlIHBvbGljeS10ZW1wbGF0ZSBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uIGlzIG92ZXJyaWRkZW4gYnkgdGhlIHByZWNlZGluZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIHNwZWMucmVtZWRpYXRpb25BY3Rpb24uCiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogb3BlcmF0b3JzLmNvcmVvcy5jb20vdjFhbHBoYTEKICAgICAgICAgICAgICAgIGtpbmQ6IFN1YnNjcmlwdGlvbgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbnRhaW5lci1zZWN1cml0eS1vcGVyYXRvcgogICAgICAgICAgICAgICAgICBuYW1lc3BhY2U6IG9wZW5zaGlmdC1vcGVyYXRvcnMKICAgICAgICAgICAgICAgIHNwZWM6CiAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IHF1YXktdjMuMwogICAgICAgICAgICAgICAgICBpbnN0YWxsUGxhbkFwcHJvdmFsOiBBdXRvbWF0aWMKICAgICAgICAgICAgICAgICAgbmFtZTogY29udGFpbmVyLXNlY3VyaXR5LW9wZXJhdG9yCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogcmVkaGF0LW9wZXJhdG9ycwogICAgICAgICAgICAgICAgICBzb3VyY2VOYW1lc3BhY2U6IG9wZW5zaGlmdC1tYXJrZXRwbGFjZQogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbi1leGFtcGxlLWltdgogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgdGhlIHBvbGljeS10ZW1wbGF0ZSBzcGVjLnJlbWVkaWF0aW9uQWN0aW9uIGlzIG92ZXJyaWRkZW4gYnkgdGhlIHByZWNlZGluZyBwYXJhbWV0ZXIgdmFsdWUgZm9yIHNwZWMucmVtZWRpYXRpb25BY3Rpb24uCiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgbmFtZXNwYWNlU2VsZWN0b3I6CiAgICAgICAgICAgIGV4Y2x1ZGU6IFsia3ViZS0qIl0KICAgICAgICAgICAgaW5jbHVkZTogWyIqIl0KICAgICAgICAgIG9iamVjdC10ZW1wbGF0ZXM6CiAgICAgICAgICAgIC0gY29tcGxpYW5jZVR5cGU6IG11c3Rub3RoYXZlICMgbXVzdG5vdGhhdmUgYW55IEltYWdlTWFuaWZlc3RWdWxuIG9iamVjdAogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBzZWNzY2FuLnF1YXkucmVkaGF0LmNvbS92MWFscGhhMQogICAgICAgICAgICAgICAga2luZDogSW1hZ2VNYW5pZmVzdFZ1bG4gIyBjaGVja2luZyBmb3IgYSBraW5kCi0tLQphcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50QmluZGluZwptZXRhZGF0YToKICBuYW1lOiBiaW5kaW5nLXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGFubm90YXRpb25zOiB7fQpwbGFjZW1lbnRSZWY6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGtpbmQ6IFBsYWNlbWVudFJ1bGUKICBhcGlHcm91cDogYXBwcy5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pbwpzdWJqZWN0czoKICAtIG5hbWU6IHBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogICAga2luZDogUG9saWN5CiAgICBhcGlHcm91cDogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCi0tLQphcGlWZXJzaW9uOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudFJ1bGUKbWV0YWRhdGE6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1pbWFnZW1hbmlmZXN0dnVsbgogIGFubm90YXRpb25zOiB7fQpzcGVjOgogIGNsdXN0ZXJDb25kaXRpb25zOgogICAgLSBzdGF0dXM6ICJUcnVlIgogICAgICB0eXBlOiBNYW5hZ2VkQ2x1c3RlckNvbmRpdGlvbkF2YWlsYWJsZQogIGNsdXN0ZXJTZWxlY3RvcjoKICAgIG1hdGNoRXhwcmVzc2lvbnM6CiAgICAgIC0ge2tleTogZW52aXJvbm1lbnQsIG9wZXJhdG9yOiBJbiwgdmFsdWVzOiBbImRldiJdfQo=, integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHMFNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaXhjRUwvMThSbHdkTkdCcWZsZDVHQkpReVAzTng3L09hdk1pNAp0R3FBVG1OcU1XNk0xdUI4Um0zNFZPdXlucVBBVFBXZFFrSUlVNjhLLzRWM3AwTU1aTENLWGpjK0pKZGVwWGZFClJVM2h1aFhzQkUvSG1aSFBjQWNGNXpIOTJNMGhWdzZiSXRQRXI0U1pndlFqRTdRbHhVNHhMLzRCRmZFTEh3WEIKVTRlMkpjVHJIZkx6czhVVnNuaVpGU1ZkdXFGZXZML1duVHdLWEhkUE1QYlh3UXFHR0NzR0xmRlEwTkx1aEdhYwpMYXhjQ0ozZ2RqdVBKRDZDMW94ejl4RmVvVk5TNjZ4S1IwYkhvNUgySUpBdUhaNG1QM1FGWFFXbURXNUZpYng4CjNTK3BtSjhUNmwrcTUyL3Yrcmw3R1JtRjFGcVoxSDJUVTJ4ZE8zSmk0WE90ZzhQS0hmM1RYRXQ3b0trZStuV20KRHZRLzBvc1dMYkJyN2FrR3E5OEsxcWE0b2J1cko1emg0bkJPaUpMYkcvSDdRQllzSkR2UEdlQXFHMjZydDdYNQozZlNSdER0MnZBeVI4OEVWbVd6bnF2N0NjTUNTUElPdGVsU2tlMGxBWGNGRjVTNGVXNkF5UE9HaU9HdkFHclJmCk1XcmRicVdDaXFPZHkvVzR1dFBpT0xtb2llR0NHNFJVeHc9PQo9bnZxOQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K}
spec:
  clusterConditions:
    - status: "True"
      type: ManagedClusterConditionAvailable
  clusterSelector:
    matchExpressions:
      - {key: environment, operator: In, values: ["dev"]}
