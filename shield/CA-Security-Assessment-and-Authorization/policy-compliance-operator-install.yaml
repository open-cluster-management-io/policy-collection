# This policy verifies the installation of the official & supported version of
# the Compliance Operator on the managed clusters.
#
# If set to "enforce" it'll install the operator.
#
# Note that OpenShift 4.6 is required.
apiVersion: policy.open-cluster-management.io/v1
kind: Policy
metadata:
  name: policy-comp-operator
  annotations:
    policy.open-cluster-management.io/standards: NIST SP 800-53
    policy.open-cluster-management.io/categories: CA Security Assessment and Authorization
    policy.open-cluster-management.io/controls: CA-2 Security Assessments, CA-7 Continuous Monitoring
    integrityshield.io/message: IyBUaGlzIHBvbGljeSB2ZXJpZmllcyB0aGUgaW5zdGFsbGF0aW9uIG9mIHRoZSBvZmZpY2lhbCAmIHN1cHBvcnRlZCB2ZXJzaW9uIG9mCiMgdGhlIENvbXBsaWFuY2UgT3BlcmF0b3Igb24gdGhlIG1hbmFnZWQgY2x1c3RlcnMuCiMKIyBJZiBzZXQgdG8gImVuZm9yY2UiIGl0J2xsIGluc3RhbGwgdGhlIG9wZXJhdG9yLgojCiMgTm90ZSB0aGF0IE9wZW5TaGlmdCA0LjYgaXMgcmVxdWlyZWQuCmFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQb2xpY3kKbWV0YWRhdGE6CiAgbmFtZTogcG9saWN5LWNvbXAtb3BlcmF0b3IKICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogQ0EgU2VjdXJpdHkgQXNzZXNzbWVudCBhbmQgQXV0aG9yaXphdGlvbgogICAgcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL2NvbnRyb2xzOiBDQS0yIFNlY3VyaXR5IEFzc2Vzc21lbnRzLCBDQS03IENvbnRpbnVvdXMgTW9uaXRvcmluZwpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IGNvbXAtb3BlcmF0b3ItbnMKICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSByZW1lZGlhdGlvbkFjdGlvbiBpbiBwYXJlbnQgcG9saWN5CiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogdjEKICAgICAgICAgICAgICAgIGtpbmQ6IE5hbWVzcGFjZQogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IG9wZW5zaGlmdC1jb21wbGlhbmNlCiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogY29tcC1vcGVyYXRvci1vcGVyYXRvci1ncm91cAogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgd2lsbCBiZSBvdmVycmlkZGVuIGJ5IHJlbWVkaWF0aW9uQWN0aW9uIGluIHBhcmVudCBwb2xpY3kKICAgICAgICAgIHNldmVyaXR5OiBoaWdoCiAgICAgICAgICBvYmplY3QtdGVtcGxhdGVzOgogICAgICAgICAgICAtIGNvbXBsaWFuY2VUeXBlOiBtdXN0aGF2ZQogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBvcGVyYXRvcnMuY29yZW9zLmNvbS92MQogICAgICAgICAgICAgICAga2luZDogT3BlcmF0b3JHcm91cAogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcGVuc2hpZnQtY29tcGxpYW5jZQogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgdGFyZ2V0TmFtZXNwYWNlczoKICAgICAgICAgICAgICAgICAgICAtIG9wZW5zaGlmdC1jb21wbGlhbmNlCiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogY29tcC1vcGVyYXRvci1zdWJzY3JpcHRpb24KICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSByZW1lZGlhdGlvbkFjdGlvbiBpbiBwYXJlbnQgcG9saWN5CiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogb3BlcmF0b3JzLmNvcmVvcy5jb20vdjFhbHBoYTEKICAgICAgICAgICAgICAgIGtpbmQ6IFN1YnNjcmlwdGlvbgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcGVuc2hpZnQtY29tcGxpYW5jZQogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgY2hhbm5lbDogIjQuNiIKICAgICAgICAgICAgICAgICAgaW5zdGFsbFBsYW5BcHByb3ZhbDogQXV0b21hdGljCiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgc291cmNlOiByZWRoYXQtb3BlcmF0b3JzCiAgICAgICAgICAgICAgICAgIHNvdXJjZU5hbWVzcGFjZTogb3BlbnNoaWZ0LW1hcmtldHBsYWNlCi0tLQphcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50QmluZGluZwptZXRhZGF0YToKICBuYW1lOiBiaW5kaW5nLXBvbGljeS1jb21wLW9wZXJhdG9yCiAgYW5ub3RhdGlvbnM6IHt9CnBsYWNlbWVudFJlZjoKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LWNvbXAtb3BlcmF0b3IKICBraW5kOiBQbGFjZW1lbnRSdWxlCiAgYXBpR3JvdXA6IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8Kc3ViamVjdHM6CiAgLSBuYW1lOiBwb2xpY3ktY29tcC1vcGVyYXRvcgogICAga2luZDogUG9saWN5CiAgICBhcGlHcm91cDogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCi0tLQphcGlWZXJzaW9uOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudFJ1bGUKbWV0YWRhdGE6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1jb21wLW9wZXJhdG9yCiAgYW5ub3RhdGlvbnM6IHt9CnNwZWM6CiAgY2x1c3RlckNvbmRpdGlvbnM6CiAgICAtIHN0YXR1czogIlRydWUiCiAgICAgIHR5cGU6IE1hbmFnZWRDbHVzdGVyQ29uZGl0aW9uQXZhaWxhYmxlCiAgY2x1c3RlclNlbGVjdG9yOgogICAgbWF0Y2hFeHByZXNzaW9uczoKICAgICAgLSB7a2V5OiB2ZW5kb3IsIG9wZXJhdG9yOiBJbiwgdmFsdWVzOiBbIk9wZW5TaGlmdCJdfQo=
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhIQVNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaWx0WUwvMHpEZGJUZFo5R0tHVElCS1k3YTdEamc4MTMybHhxMApIZURubFg2TDRPWU9PVlpUblJuTjlzR3ZCK0x6SnJKS29ROGN6amZqbUpCK1VSUDBxZ0k3RFFTamFhbkZFb2doCkNBV3dDbFR6dXA4MytPdXlEcE1IU3RjN1RIMDJ0OFNoY1l6VXNaQ1VSSEpjNGJyTDl0a3FsUlZUeGlxVEJndjEKQWJ4ZWVxSDE3cUVwRDdRS1FJMkZFSm83MXBCVlBqaWtMU2ZVUENDblJObjFGd0dOb3pKTCtCakltOEE1dEx2UQpJSnQzZVpvQ3lnaDdlL1dRMk02R01sRkk0RGFtSk1pMXlZUUx5NFlVZEhPL2Vld05xUDhxK3Q5WjJremRmWC9XCmt6TVFGaDI1bkxjNExWdmdRRUVkN2o1dFl4Nkk2VHVWVndMY3NEcW00dVZjaDJJNzFzT3QyMkp6SUJmb01SZG4KRXREOXhLN3c3bFY2Rmt5b1ZYcHdqZ3VETmNndk5zbVlzaFJwZTBnMVFGMEtza0c2S2R1NytIMFhoWFFHby83Sgo1SDR0dUt5dVA4bm5Gb2QydnRsSUJyYmR4N3djaktRU1NoVEl1YmFFMVJjVDZ5Qis1WE9yNjVBUHg2OUhyN0JWCkhrZ1pPdDU2ejN2ZXNuNk1ZQjFaaS9FMFRlbzBpZ2RxWGc9PQo9cnMrRgotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K
spec:
  remediationAction: inform
  disabled: false
  policy-templates:
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: comp-operator-ns
        spec:
          remediationAction: inform # will be overridden by remediationAction in parent policy
          severity: high
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: v1
                kind: Namespace
                metadata:
                  name: openshift-compliance
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: comp-operator-operator-group
        spec:
          remediationAction: inform # will be overridden by remediationAction in parent policy
          severity: high
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: operators.coreos.com/v1
                kind: OperatorGroup
                metadata:
                  name: compliance-operator
                  namespace: openshift-compliance
                spec:
                  targetNamespaces:
                    - openshift-compliance
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: comp-operator-subscription
        spec:
          remediationAction: inform # will be overridden by remediationAction in parent policy
          severity: high
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: operators.coreos.com/v1alpha1
                kind: Subscription
                metadata:
                  name: compliance-operator
                  namespace: openshift-compliance
                spec:
                  channel: "4.6"
                  installPlanApproval: Automatic
                  name: compliance-operator
                  source: redhat-operators
                  sourceNamespace: openshift-marketplace
---
apiVersion: policy.open-cluster-management.io/v1
kind: PlacementBinding
metadata:
  name: binding-policy-comp-operator
  annotations: {integrityshield.io/message: IyBUaGlzIHBvbGljeSB2ZXJpZmllcyB0aGUgaW5zdGFsbGF0aW9uIG9mIHRoZSBvZmZpY2lhbCAmIHN1cHBvcnRlZCB2ZXJzaW9uIG9mCiMgdGhlIENvbXBsaWFuY2UgT3BlcmF0b3Igb24gdGhlIG1hbmFnZWQgY2x1c3RlcnMuCiMKIyBJZiBzZXQgdG8gImVuZm9yY2UiIGl0J2xsIGluc3RhbGwgdGhlIG9wZXJhdG9yLgojCiMgTm90ZSB0aGF0IE9wZW5TaGlmdCA0LjYgaXMgcmVxdWlyZWQuCmFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQb2xpY3kKbWV0YWRhdGE6CiAgbmFtZTogcG9saWN5LWNvbXAtb3BlcmF0b3IKICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogQ0EgU2VjdXJpdHkgQXNzZXNzbWVudCBhbmQgQXV0aG9yaXphdGlvbgogICAgcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL2NvbnRyb2xzOiBDQS0yIFNlY3VyaXR5IEFzc2Vzc21lbnRzLCBDQS03IENvbnRpbnVvdXMgTW9uaXRvcmluZwpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IGNvbXAtb3BlcmF0b3ItbnMKICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSByZW1lZGlhdGlvbkFjdGlvbiBpbiBwYXJlbnQgcG9saWN5CiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogdjEKICAgICAgICAgICAgICAgIGtpbmQ6IE5hbWVzcGFjZQogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IG9wZW5zaGlmdC1jb21wbGlhbmNlCiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogY29tcC1vcGVyYXRvci1vcGVyYXRvci1ncm91cAogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgd2lsbCBiZSBvdmVycmlkZGVuIGJ5IHJlbWVkaWF0aW9uQWN0aW9uIGluIHBhcmVudCBwb2xpY3kKICAgICAgICAgIHNldmVyaXR5OiBoaWdoCiAgICAgICAgICBvYmplY3QtdGVtcGxhdGVzOgogICAgICAgICAgICAtIGNvbXBsaWFuY2VUeXBlOiBtdXN0aGF2ZQogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBvcGVyYXRvcnMuY29yZW9zLmNvbS92MQogICAgICAgICAgICAgICAga2luZDogT3BlcmF0b3JHcm91cAogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcGVuc2hpZnQtY29tcGxpYW5jZQogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgdGFyZ2V0TmFtZXNwYWNlczoKICAgICAgICAgICAgICAgICAgICAtIG9wZW5zaGlmdC1jb21wbGlhbmNlCiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogY29tcC1vcGVyYXRvci1zdWJzY3JpcHRpb24KICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSByZW1lZGlhdGlvbkFjdGlvbiBpbiBwYXJlbnQgcG9saWN5CiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogb3BlcmF0b3JzLmNvcmVvcy5jb20vdjFhbHBoYTEKICAgICAgICAgICAgICAgIGtpbmQ6IFN1YnNjcmlwdGlvbgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcGVuc2hpZnQtY29tcGxpYW5jZQogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgY2hhbm5lbDogIjQuNiIKICAgICAgICAgICAgICAgICAgaW5zdGFsbFBsYW5BcHByb3ZhbDogQXV0b21hdGljCiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgc291cmNlOiByZWRoYXQtb3BlcmF0b3JzCiAgICAgICAgICAgICAgICAgIHNvdXJjZU5hbWVzcGFjZTogb3BlbnNoaWZ0LW1hcmtldHBsYWNlCi0tLQphcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50QmluZGluZwptZXRhZGF0YToKICBuYW1lOiBiaW5kaW5nLXBvbGljeS1jb21wLW9wZXJhdG9yCiAgYW5ub3RhdGlvbnM6IHt9CnBsYWNlbWVudFJlZjoKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LWNvbXAtb3BlcmF0b3IKICBraW5kOiBQbGFjZW1lbnRSdWxlCiAgYXBpR3JvdXA6IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8Kc3ViamVjdHM6CiAgLSBuYW1lOiBwb2xpY3ktY29tcC1vcGVyYXRvcgogICAga2luZDogUG9saWN5CiAgICBhcGlHcm91cDogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCi0tLQphcGlWZXJzaW9uOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudFJ1bGUKbWV0YWRhdGE6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1jb21wLW9wZXJhdG9yCiAgYW5ub3RhdGlvbnM6IHt9CnNwZWM6CiAgY2x1c3RlckNvbmRpdGlvbnM6CiAgICAtIHN0YXR1czogIlRydWUiCiAgICAgIHR5cGU6IE1hbmFnZWRDbHVzdGVyQ29uZGl0aW9uQXZhaWxhYmxlCiAgY2x1c3RlclNlbGVjdG9yOgogICAgbWF0Y2hFeHByZXNzaW9uczoKICAgICAgLSB7a2V5OiB2ZW5kb3IsIG9wZXJhdG9yOiBJbiwgdmFsdWVzOiBbIk9wZW5TaGlmdCJdfQo=, integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhIQVNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaWx0WUwvMHpEZGJUZFo5R0tHVElCS1k3YTdEamc4MTMybHhxMApIZURubFg2TDRPWU9PVlpUblJuTjlzR3ZCK0x6SnJKS29ROGN6amZqbUpCK1VSUDBxZ0k3RFFTamFhbkZFb2doCkNBV3dDbFR6dXA4MytPdXlEcE1IU3RjN1RIMDJ0OFNoY1l6VXNaQ1VSSEpjNGJyTDl0a3FsUlZUeGlxVEJndjEKQWJ4ZWVxSDE3cUVwRDdRS1FJMkZFSm83MXBCVlBqaWtMU2ZVUENDblJObjFGd0dOb3pKTCtCakltOEE1dEx2UQpJSnQzZVpvQ3lnaDdlL1dRMk02R01sRkk0RGFtSk1pMXlZUUx5NFlVZEhPL2Vld05xUDhxK3Q5WjJremRmWC9XCmt6TVFGaDI1bkxjNExWdmdRRUVkN2o1dFl4Nkk2VHVWVndMY3NEcW00dVZjaDJJNzFzT3QyMkp6SUJmb01SZG4KRXREOXhLN3c3bFY2Rmt5b1ZYcHdqZ3VETmNndk5zbVlzaFJwZTBnMVFGMEtza0c2S2R1NytIMFhoWFFHby83Sgo1SDR0dUt5dVA4bm5Gb2QydnRsSUJyYmR4N3djaktRU1NoVEl1YmFFMVJjVDZ5Qis1WE9yNjVBUHg2OUhyN0JWCkhrZ1pPdDU2ejN2ZXNuNk1ZQjFaaS9FMFRlbzBpZ2RxWGc9PQo9cnMrRgotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K}
placementRef:
  name: placement-policy-comp-operator
  kind: PlacementRule
  apiGroup: apps.open-cluster-management.io
subjects:
  - name: policy-comp-operator
    kind: Policy
    apiGroup: policy.open-cluster-management.io
---
apiVersion: apps.open-cluster-management.io/v1
kind: PlacementRule
metadata:
  name: placement-policy-comp-operator
  annotations: {integrityshield.io/message: IyBUaGlzIHBvbGljeSB2ZXJpZmllcyB0aGUgaW5zdGFsbGF0aW9uIG9mIHRoZSBvZmZpY2lhbCAmIHN1cHBvcnRlZCB2ZXJzaW9uIG9mCiMgdGhlIENvbXBsaWFuY2UgT3BlcmF0b3Igb24gdGhlIG1hbmFnZWQgY2x1c3RlcnMuCiMKIyBJZiBzZXQgdG8gImVuZm9yY2UiIGl0J2xsIGluc3RhbGwgdGhlIG9wZXJhdG9yLgojCiMgTm90ZSB0aGF0IE9wZW5TaGlmdCA0LjYgaXMgcmVxdWlyZWQuCmFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQb2xpY3kKbWV0YWRhdGE6CiAgbmFtZTogcG9saWN5LWNvbXAtb3BlcmF0b3IKICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogQ0EgU2VjdXJpdHkgQXNzZXNzbWVudCBhbmQgQXV0aG9yaXphdGlvbgogICAgcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL2NvbnRyb2xzOiBDQS0yIFNlY3VyaXR5IEFzc2Vzc21lbnRzLCBDQS03IENvbnRpbnVvdXMgTW9uaXRvcmluZwpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IGNvbXAtb3BlcmF0b3ItbnMKICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSByZW1lZGlhdGlvbkFjdGlvbiBpbiBwYXJlbnQgcG9saWN5CiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogdjEKICAgICAgICAgICAgICAgIGtpbmQ6IE5hbWVzcGFjZQogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IG9wZW5zaGlmdC1jb21wbGlhbmNlCiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogY29tcC1vcGVyYXRvci1vcGVyYXRvci1ncm91cAogICAgICAgIHNwZWM6CiAgICAgICAgICByZW1lZGlhdGlvbkFjdGlvbjogaW5mb3JtICMgd2lsbCBiZSBvdmVycmlkZGVuIGJ5IHJlbWVkaWF0aW9uQWN0aW9uIGluIHBhcmVudCBwb2xpY3kKICAgICAgICAgIHNldmVyaXR5OiBoaWdoCiAgICAgICAgICBvYmplY3QtdGVtcGxhdGVzOgogICAgICAgICAgICAtIGNvbXBsaWFuY2VUeXBlOiBtdXN0aGF2ZQogICAgICAgICAgICAgIG9iamVjdERlZmluaXRpb246CiAgICAgICAgICAgICAgICBhcGlWZXJzaW9uOiBvcGVyYXRvcnMuY29yZW9zLmNvbS92MQogICAgICAgICAgICAgICAga2luZDogT3BlcmF0b3JHcm91cAogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcGVuc2hpZnQtY29tcGxpYW5jZQogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgdGFyZ2V0TmFtZXNwYWNlczoKICAgICAgICAgICAgICAgICAgICAtIG9wZW5zaGlmdC1jb21wbGlhbmNlCiAgICAtIG9iamVjdERlZmluaXRpb246CiAgICAgICAgYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCiAgICAgICAga2luZDogQ29uZmlndXJhdGlvblBvbGljeQogICAgICAgIG1ldGFkYXRhOgogICAgICAgICAgbmFtZTogY29tcC1vcGVyYXRvci1zdWJzY3JpcHRpb24KICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybSAjIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSByZW1lZGlhdGlvbkFjdGlvbiBpbiBwYXJlbnQgcG9saWN5CiAgICAgICAgICBzZXZlcml0eTogaGlnaAogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogb3BlcmF0b3JzLmNvcmVvcy5jb20vdjFhbHBoYTEKICAgICAgICAgICAgICAgIGtpbmQ6IFN1YnNjcmlwdGlvbgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgbmFtZXNwYWNlOiBvcGVuc2hpZnQtY29tcGxpYW5jZQogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgY2hhbm5lbDogIjQuNiIKICAgICAgICAgICAgICAgICAgaW5zdGFsbFBsYW5BcHByb3ZhbDogQXV0b21hdGljCiAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbXBsaWFuY2Utb3BlcmF0b3IKICAgICAgICAgICAgICAgICAgc291cmNlOiByZWRoYXQtb3BlcmF0b3JzCiAgICAgICAgICAgICAgICAgIHNvdXJjZU5hbWVzcGFjZTogb3BlbnNoaWZ0LW1hcmtldHBsYWNlCi0tLQphcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKa2luZDogUGxhY2VtZW50QmluZGluZwptZXRhZGF0YToKICBuYW1lOiBiaW5kaW5nLXBvbGljeS1jb21wLW9wZXJhdG9yCiAgYW5ub3RhdGlvbnM6IHt9CnBsYWNlbWVudFJlZjoKICBuYW1lOiBwbGFjZW1lbnQtcG9saWN5LWNvbXAtb3BlcmF0b3IKICBraW5kOiBQbGFjZW1lbnRSdWxlCiAgYXBpR3JvdXA6IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8Kc3ViamVjdHM6CiAgLSBuYW1lOiBwb2xpY3ktY29tcC1vcGVyYXRvcgogICAga2luZDogUG9saWN5CiAgICBhcGlHcm91cDogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvCi0tLQphcGlWZXJzaW9uOiBhcHBzLm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudFJ1bGUKbWV0YWRhdGE6CiAgbmFtZTogcGxhY2VtZW50LXBvbGljeS1jb21wLW9wZXJhdG9yCiAgYW5ub3RhdGlvbnM6IHt9CnNwZWM6CiAgY2x1c3RlckNvbmRpdGlvbnM6CiAgICAtIHN0YXR1czogIlRydWUiCiAgICAgIHR5cGU6IE1hbmFnZWRDbHVzdGVyQ29uZGl0aW9uQXZhaWxhYmxlCiAgY2x1c3RlclNlbGVjdG9yOgogICAgbWF0Y2hFeHByZXNzaW9uczoKICAgICAgLSB7a2V5OiB2ZW5kb3IsIG9wZXJhdG9yOiBJbiwgdmFsdWVzOiBbIk9wZW5TaGlmdCJdfQo=, integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhIQVNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaWx0WUwvMHpEZGJUZFo5R0tHVElCS1k3YTdEamc4MTMybHhxMApIZURubFg2TDRPWU9PVlpUblJuTjlzR3ZCK0x6SnJKS29ROGN6amZqbUpCK1VSUDBxZ0k3RFFTamFhbkZFb2doCkNBV3dDbFR6dXA4MytPdXlEcE1IU3RjN1RIMDJ0OFNoY1l6VXNaQ1VSSEpjNGJyTDl0a3FsUlZUeGlxVEJndjEKQWJ4ZWVxSDE3cUVwRDdRS1FJMkZFSm83MXBCVlBqaWtMU2ZVUENDblJObjFGd0dOb3pKTCtCakltOEE1dEx2UQpJSnQzZVpvQ3lnaDdlL1dRMk02R01sRkk0RGFtSk1pMXlZUUx5NFlVZEhPL2Vld05xUDhxK3Q5WjJremRmWC9XCmt6TVFGaDI1bkxjNExWdmdRRUVkN2o1dFl4Nkk2VHVWVndMY3NEcW00dVZjaDJJNzFzT3QyMkp6SUJmb01SZG4KRXREOXhLN3c3bFY2Rmt5b1ZYcHdqZ3VETmNndk5zbVlzaFJwZTBnMVFGMEtza0c2S2R1NytIMFhoWFFHby83Sgo1SDR0dUt5dVA4bm5Gb2QydnRsSUJyYmR4N3djaktRU1NoVEl1YmFFMVJjVDZ5Qis1WE9yNjVBUHg2OUhyN0JWCkhrZ1pPdDU2ejN2ZXNuNk1ZQjFaaS9FMFRlbzBpZ2RxWGc9PQo9cnMrRgotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K}
spec:
  clusterConditions:
    - status: "True"
      type: ManagedClusterConditionAvailable
  clusterSelector:
    matchExpressions:
      - {key: vendor, operator: In, values: ["OpenShift"]}
