apiVersion: policy.open-cluster-management.io/v1
kind: Policy
metadata:
  name: policy-etcdencryption
  annotations:
    policy.open-cluster-management.io/standards: NIST SP 800-53
    policy.open-cluster-management.io/categories: CM Configuration Management
    policy.open-cluster-management.io/controls: CM-2 Baseline Configuration
    integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogQ00gQ29uZmlndXJhdGlvbiBNYW5hZ2VtZW50CiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY29udHJvbHM6IENNLTIgQmFzZWxpbmUgQ29uZmlndXJhdGlvbgpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IGVuYWJsZS1ldGNkLWVuY3J5cHRpb24KICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybQogICAgICAgICAgc2V2ZXJpdHk6IGxvdwogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogY29uZmlnLm9wZW5zaGlmdC5pby92MQogICAgICAgICAgICAgICAga2luZDogQVBJU2VydmVyCiAgICAgICAgICAgICAgICBtZXRhZGF0YToKICAgICAgICAgICAgICAgICAgbmFtZTogY2x1c3RlcgogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgZW5jcnlwdGlvbjoKICAgICAgICAgICAgICAgICAgICB0eXBlOiBhZXNjYmMKICAgIC0gb2JqZWN0RGVmaW5pdGlvbjoKICAgICAgICBhcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKICAgICAgICBraW5kOiBDb25maWd1cmF0aW9uUG9saWN5CiAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICBuYW1lOiBlbmFibGUtZXRjZC1lbmNyeXB0aW9uLXN0YXR1cy1rdWJlYXBpCiAgICAgICAgc3BlYzoKICAgICAgICAgIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICAgICAgICAgIHNldmVyaXR5OiBsb3cKICAgICAgICAgIG9iamVjdC10ZW1wbGF0ZXM6CiAgICAgICAgICAgIC0gY29tcGxpYW5jZVR5cGU6IG11c3RoYXZlCiAgICAgICAgICAgICAgb2JqZWN0RGVmaW5pdGlvbjoKICAgICAgICAgICAgICAgIGFwaVZlcnNpb246IG9wZXJhdG9yLm9wZW5zaGlmdC5pby92MQogICAgICAgICAgICAgICAga2luZDogS3ViZUFQSVNlcnZlcgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNsdXN0ZXIKICAgICAgICAgICAgICAgIHN0YXR1czoKICAgICAgICAgICAgICAgICAgY29uZGl0aW9uczoKICAgICAgICAgICAgICAgICAgICAtIG1lc3NhZ2U6ICdBbGwgcmVzb3VyY2VzIGVuY3J5cHRlZDogc2VjcmV0cywgY29uZmlnbWFwcycKICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogRW5jcnlwdGlvbkNvbXBsZXRlZAotLS0KYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudEJpbmRpbmcKbWV0YWRhdGE6CiAgbmFtZTogYmluZGluZy1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoge30KcGxhY2VtZW50UmVmOgogIG5hbWU6IHBsYWNlbWVudC1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBraW5kOiBQbGFjZW1lbnRSdWxlCiAgYXBpR3JvdXA6IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8Kc3ViamVjdHM6CiAgLSBuYW1lOiBwb2xpY3ktZXRjZGVuY3J5cHRpb24KICAgIGtpbmQ6IFBvbGljeQogICAgYXBpR3JvdXA6IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pbwotLS0KYXBpVmVyc2lvbjogYXBwcy5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQbGFjZW1lbnRSdWxlCm1ldGFkYXRhOgogIG5hbWU6IHBsYWNlbWVudC1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoge30Kc3BlYzoKICBjbHVzdGVyQ29uZGl0aW9uczoKICAgIC0gc3RhdHVzOiAiVHJ1ZSIKICAgICAgdHlwZTogTWFuYWdlZENsdXN0ZXJDb25kaXRpb25BdmFpbGFibGUKICBjbHVzdGVyU2VsZWN0b3I6CiAgICBtYXRjaEV4cHJlc3Npb25zOgogICAgICAtIHtrZXk6IGVudmlyb25tZW50LCBvcGVyYXRvcjogSW4sIHZhbHVlczogWyJkZXYiXX0K
    integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHUVNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaWIrZ0wrd2V4UUx4ZHRnRVVycThXM2FITS93R2tyL0xwMmszTwpDenllZTVENVhpQTVvakdGeVp0WUtyZzRVZlVKdGtNak9qNlcwekxOV0FzK1lOQzYxWUhlV3lWbUtxQWVQbjU5CnJ0dmFNWXZIMEZYVGs4Wm81bW1lK3BQSlB6ZEl6WVFneDlHQWdwcTBvYXNGRVNRQlVzanpsNkpmYXA4ejdOQTkKalQ2U1RFMTI1YmpLM0hOK3VKT3ozVnp6bXEwSXJua3BKcGFuUm14TGNSVTM0a0N1K0k1UXVTNTNzNUk2OGtUSQp0aHZKR0NYd09SYlFzYUtlKytYZzBReDV1MUFTYTNvendnbzc0MlMyMWNCQmxDbGdGN0dtMzFhR1VKbmQxMUNXCnV4eGltTWIxQktGUktVbU0wMUx6ZWJrMkRwSGNtcVB2YmxqcStZb0E5T1J4ZGs5b041MCtYbUVhUTV3aGYzNi8KRWF5bEdxZHMrU1UxNTJuUEhzSzhJMW5NYVRrYkhraWxkdzM3OEtmOFBzWnppaTJUSzRtWlZSZzB5T3dtV1lOVgp6U21IckJEekREM0x6UHRPNWlWaHE3NkxIaW1iK3ByTE9LSzJjZlBzUEJRekxHREU1WUFKZDhaUXNyUW1YVXlRCkpZMkdBM3BoOS9ITUFzK1FMRVg4TWhReFZ2bXBFRWZUekE9PQo9ZEVVcQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K
spec:
  remediationAction: inform
  disabled: false
  policy-templates:
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: enable-etcd-encryption
        spec:
          remediationAction: inform
          severity: low
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: config.openshift.io/v1
                kind: APIServer
                metadata:
                  name: cluster
                spec:
                  encryption:
                    type: aescbc
    - objectDefinition:
        apiVersion: policy.open-cluster-management.io/v1
        kind: ConfigurationPolicy
        metadata:
          name: enable-etcd-encryption-status-kubeapi
        spec:
          remediationAction: inform
          severity: low
          object-templates:
            - complianceType: musthave
              objectDefinition:
                apiVersion: operator.openshift.io/v1
                kind: KubeAPIServer
                metadata:
                  name: cluster
                status:
                  conditions:
                    - message: 'All resources encrypted: secrets, configmaps'
                      reason: EncryptionCompleted
---
apiVersion: policy.open-cluster-management.io/v1
kind: PlacementBinding
metadata:
  name: binding-policy-etcdencryption
  annotations: {integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogQ00gQ29uZmlndXJhdGlvbiBNYW5hZ2VtZW50CiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY29udHJvbHM6IENNLTIgQmFzZWxpbmUgQ29uZmlndXJhdGlvbgpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IGVuYWJsZS1ldGNkLWVuY3J5cHRpb24KICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybQogICAgICAgICAgc2V2ZXJpdHk6IGxvdwogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogY29uZmlnLm9wZW5zaGlmdC5pby92MQogICAgICAgICAgICAgICAga2luZDogQVBJU2VydmVyCiAgICAgICAgICAgICAgICBtZXRhZGF0YToKICAgICAgICAgICAgICAgICAgbmFtZTogY2x1c3RlcgogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgZW5jcnlwdGlvbjoKICAgICAgICAgICAgICAgICAgICB0eXBlOiBhZXNjYmMKICAgIC0gb2JqZWN0RGVmaW5pdGlvbjoKICAgICAgICBhcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKICAgICAgICBraW5kOiBDb25maWd1cmF0aW9uUG9saWN5CiAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICBuYW1lOiBlbmFibGUtZXRjZC1lbmNyeXB0aW9uLXN0YXR1cy1rdWJlYXBpCiAgICAgICAgc3BlYzoKICAgICAgICAgIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICAgICAgICAgIHNldmVyaXR5OiBsb3cKICAgICAgICAgIG9iamVjdC10ZW1wbGF0ZXM6CiAgICAgICAgICAgIC0gY29tcGxpYW5jZVR5cGU6IG11c3RoYXZlCiAgICAgICAgICAgICAgb2JqZWN0RGVmaW5pdGlvbjoKICAgICAgICAgICAgICAgIGFwaVZlcnNpb246IG9wZXJhdG9yLm9wZW5zaGlmdC5pby92MQogICAgICAgICAgICAgICAga2luZDogS3ViZUFQSVNlcnZlcgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNsdXN0ZXIKICAgICAgICAgICAgICAgIHN0YXR1czoKICAgICAgICAgICAgICAgICAgY29uZGl0aW9uczoKICAgICAgICAgICAgICAgICAgICAtIG1lc3NhZ2U6ICdBbGwgcmVzb3VyY2VzIGVuY3J5cHRlZDogc2VjcmV0cywgY29uZmlnbWFwcycKICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogRW5jcnlwdGlvbkNvbXBsZXRlZAotLS0KYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudEJpbmRpbmcKbWV0YWRhdGE6CiAgbmFtZTogYmluZGluZy1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoge30KcGxhY2VtZW50UmVmOgogIG5hbWU6IHBsYWNlbWVudC1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBraW5kOiBQbGFjZW1lbnRSdWxlCiAgYXBpR3JvdXA6IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8Kc3ViamVjdHM6CiAgLSBuYW1lOiBwb2xpY3ktZXRjZGVuY3J5cHRpb24KICAgIGtpbmQ6IFBvbGljeQogICAgYXBpR3JvdXA6IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pbwotLS0KYXBpVmVyc2lvbjogYXBwcy5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQbGFjZW1lbnRSdWxlCm1ldGFkYXRhOgogIG5hbWU6IHBsYWNlbWVudC1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoge30Kc3BlYzoKICBjbHVzdGVyQ29uZGl0aW9uczoKICAgIC0gc3RhdHVzOiAiVHJ1ZSIKICAgICAgdHlwZTogTWFuYWdlZENsdXN0ZXJDb25kaXRpb25BdmFpbGFibGUKICBjbHVzdGVyU2VsZWN0b3I6CiAgICBtYXRjaEV4cHJlc3Npb25zOgogICAgICAtIHtrZXk6IGVudmlyb25tZW50LCBvcGVyYXRvcjogSW4sIHZhbHVlczogWyJkZXYiXX0K, integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHUVNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaWIrZ0wrd2V4UUx4ZHRnRVVycThXM2FITS93R2tyL0xwMmszTwpDenllZTVENVhpQTVvakdGeVp0WUtyZzRVZlVKdGtNak9qNlcwekxOV0FzK1lOQzYxWUhlV3lWbUtxQWVQbjU5CnJ0dmFNWXZIMEZYVGs4Wm81bW1lK3BQSlB6ZEl6WVFneDlHQWdwcTBvYXNGRVNRQlVzanpsNkpmYXA4ejdOQTkKalQ2U1RFMTI1YmpLM0hOK3VKT3ozVnp6bXEwSXJua3BKcGFuUm14TGNSVTM0a0N1K0k1UXVTNTNzNUk2OGtUSQp0aHZKR0NYd09SYlFzYUtlKytYZzBReDV1MUFTYTNvendnbzc0MlMyMWNCQmxDbGdGN0dtMzFhR1VKbmQxMUNXCnV4eGltTWIxQktGUktVbU0wMUx6ZWJrMkRwSGNtcVB2YmxqcStZb0E5T1J4ZGs5b041MCtYbUVhUTV3aGYzNi8KRWF5bEdxZHMrU1UxNTJuUEhzSzhJMW5NYVRrYkhraWxkdzM3OEtmOFBzWnppaTJUSzRtWlZSZzB5T3dtV1lOVgp6U21IckJEekREM0x6UHRPNWlWaHE3NkxIaW1iK3ByTE9LSzJjZlBzUEJRekxHREU1WUFKZDhaUXNyUW1YVXlRCkpZMkdBM3BoOS9ITUFzK1FMRVg4TWhReFZ2bXBFRWZUekE9PQo9ZEVVcQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K}
placementRef:
  name: placement-policy-etcdencryption
  kind: PlacementRule
  apiGroup: apps.open-cluster-management.io
subjects:
  - name: policy-etcdencryption
    kind: Policy
    apiGroup: policy.open-cluster-management.io
---
apiVersion: apps.open-cluster-management.io/v1
kind: PlacementRule
metadata:
  name: placement-policy-etcdencryption
  annotations: {integrityshield.io/message: YXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBvbGljeQptZXRhZGF0YToKICBuYW1lOiBwb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoKICAgIHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby9zdGFuZGFyZHM6IE5JU1QgU1AgODAwLTUzCiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY2F0ZWdvcmllczogQ00gQ29uZmlndXJhdGlvbiBNYW5hZ2VtZW50CiAgICBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vY29udHJvbHM6IENNLTIgQmFzZWxpbmUgQ29uZmlndXJhdGlvbgpzcGVjOgogIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICBkaXNhYmxlZDogZmFsc2UKICBwb2xpY3ktdGVtcGxhdGVzOgogICAgLSBvYmplY3REZWZpbml0aW9uOgogICAgICAgIGFwaVZlcnNpb246IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQogICAgICAgIGtpbmQ6IENvbmZpZ3VyYXRpb25Qb2xpY3kKICAgICAgICBtZXRhZGF0YToKICAgICAgICAgIG5hbWU6IGVuYWJsZS1ldGNkLWVuY3J5cHRpb24KICAgICAgICBzcGVjOgogICAgICAgICAgcmVtZWRpYXRpb25BY3Rpb246IGluZm9ybQogICAgICAgICAgc2V2ZXJpdHk6IGxvdwogICAgICAgICAgb2JqZWN0LXRlbXBsYXRlczoKICAgICAgICAgICAgLSBjb21wbGlhbmNlVHlwZTogbXVzdGhhdmUKICAgICAgICAgICAgICBvYmplY3REZWZpbml0aW9uOgogICAgICAgICAgICAgICAgYXBpVmVyc2lvbjogY29uZmlnLm9wZW5zaGlmdC5pby92MQogICAgICAgICAgICAgICAga2luZDogQVBJU2VydmVyCiAgICAgICAgICAgICAgICBtZXRhZGF0YToKICAgICAgICAgICAgICAgICAgbmFtZTogY2x1c3RlcgogICAgICAgICAgICAgICAgc3BlYzoKICAgICAgICAgICAgICAgICAgZW5jcnlwdGlvbjoKICAgICAgICAgICAgICAgICAgICB0eXBlOiBhZXNjYmMKICAgIC0gb2JqZWN0RGVmaW5pdGlvbjoKICAgICAgICBhcGlWZXJzaW9uOiBwb2xpY3kub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8vdjEKICAgICAgICBraW5kOiBDb25maWd1cmF0aW9uUG9saWN5CiAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICBuYW1lOiBlbmFibGUtZXRjZC1lbmNyeXB0aW9uLXN0YXR1cy1rdWJlYXBpCiAgICAgICAgc3BlYzoKICAgICAgICAgIHJlbWVkaWF0aW9uQWN0aW9uOiBpbmZvcm0KICAgICAgICAgIHNldmVyaXR5OiBsb3cKICAgICAgICAgIG9iamVjdC10ZW1wbGF0ZXM6CiAgICAgICAgICAgIC0gY29tcGxpYW5jZVR5cGU6IG11c3RoYXZlCiAgICAgICAgICAgICAgb2JqZWN0RGVmaW5pdGlvbjoKICAgICAgICAgICAgICAgIGFwaVZlcnNpb246IG9wZXJhdG9yLm9wZW5zaGlmdC5pby92MQogICAgICAgICAgICAgICAga2luZDogS3ViZUFQSVNlcnZlcgogICAgICAgICAgICAgICAgbWV0YWRhdGE6CiAgICAgICAgICAgICAgICAgIG5hbWU6IGNsdXN0ZXIKICAgICAgICAgICAgICAgIHN0YXR1czoKICAgICAgICAgICAgICAgICAgY29uZGl0aW9uczoKICAgICAgICAgICAgICAgICAgICAtIG1lc3NhZ2U6ICdBbGwgcmVzb3VyY2VzIGVuY3J5cHRlZDogc2VjcmV0cywgY29uZmlnbWFwcycKICAgICAgICAgICAgICAgICAgICAgIHJlYXNvbjogRW5jcnlwdGlvbkNvbXBsZXRlZAotLS0KYXBpVmVyc2lvbjogcG9saWN5Lm9wZW4tY2x1c3Rlci1tYW5hZ2VtZW50LmlvL3YxCmtpbmQ6IFBsYWNlbWVudEJpbmRpbmcKbWV0YWRhdGE6CiAgbmFtZTogYmluZGluZy1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoge30KcGxhY2VtZW50UmVmOgogIG5hbWU6IHBsYWNlbWVudC1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBraW5kOiBQbGFjZW1lbnRSdWxlCiAgYXBpR3JvdXA6IGFwcHMub3Blbi1jbHVzdGVyLW1hbmFnZW1lbnQuaW8Kc3ViamVjdHM6CiAgLSBuYW1lOiBwb2xpY3ktZXRjZGVuY3J5cHRpb24KICAgIGtpbmQ6IFBvbGljeQogICAgYXBpR3JvdXA6IHBvbGljeS5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pbwotLS0KYXBpVmVyc2lvbjogYXBwcy5vcGVuLWNsdXN0ZXItbWFuYWdlbWVudC5pby92MQpraW5kOiBQbGFjZW1lbnRSdWxlCm1ldGFkYXRhOgogIG5hbWU6IHBsYWNlbWVudC1wb2xpY3ktZXRjZGVuY3J5cHRpb24KICBhbm5vdGF0aW9uczoge30Kc3BlYzoKICBjbHVzdGVyQ29uZGl0aW9uczoKICAgIC0gc3RhdHVzOiAiVHJ1ZSIKICAgICAgdHlwZTogTWFuYWdlZENsdXN0ZXJDb25kaXRpb25BdmFpbGFibGUKICBjbHVzdGVyU2VsZWN0b3I6CiAgICBtYXRjaEV4cHJlc3Npb25zOgogICAgICAtIHtrZXk6IGVudmlyb25tZW50LCBvcGVyYXRvcjogSW4sIHZhbHVlczogWyJkZXYiXX0K, integrityshield.io/signature: LS0tLS1CRUdJTiBQR1AgU0lHTkFUVVJFLS0tLS0KCmlRSEdCQUFCQ0FBd0ZpRUVJbnBMR1hSY1QwV2tWTzgyVSt5TUt1c3JLdUlGQW1BSVhHUVNISE5vYVdWc1pFQnkKWldSb1lYUXVZMjl0QUFvSkVGUHNqQ3JyS3lyaWIrZ0wrd2V4UUx4ZHRnRVVycThXM2FITS93R2tyL0xwMmszTwpDenllZTVENVhpQTVvakdGeVp0WUtyZzRVZlVKdGtNak9qNlcwekxOV0FzK1lOQzYxWUhlV3lWbUtxQWVQbjU5CnJ0dmFNWXZIMEZYVGs4Wm81bW1lK3BQSlB6ZEl6WVFneDlHQWdwcTBvYXNGRVNRQlVzanpsNkpmYXA4ejdOQTkKalQ2U1RFMTI1YmpLM0hOK3VKT3ozVnp6bXEwSXJua3BKcGFuUm14TGNSVTM0a0N1K0k1UXVTNTNzNUk2OGtUSQp0aHZKR0NYd09SYlFzYUtlKytYZzBReDV1MUFTYTNvendnbzc0MlMyMWNCQmxDbGdGN0dtMzFhR1VKbmQxMUNXCnV4eGltTWIxQktGUktVbU0wMUx6ZWJrMkRwSGNtcVB2YmxqcStZb0E5T1J4ZGs5b041MCtYbUVhUTV3aGYzNi8KRWF5bEdxZHMrU1UxNTJuUEhzSzhJMW5NYVRrYkhraWxkdzM3OEtmOFBzWnppaTJUSzRtWlZSZzB5T3dtV1lOVgp6U21IckJEekREM0x6UHRPNWlWaHE3NkxIaW1iK3ByTE9LSzJjZlBzUEJRekxHREU1WUFKZDhaUXNyUW1YVXlRCkpZMkdBM3BoOS9ITUFzK1FMRVg4TWhReFZ2bXBFRWZUekE9PQo9ZEVVcQotLS0tLUVORCBQR1AgU0lHTkFUVVJFLS0tLS0K}
spec:
  clusterConditions:
    - status: "True"
      type: ManagedClusterConditionAvailable
  clusterSelector:
    matchExpressions:
      - {key: environment, operator: In, values: ["dev"]}
